{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../node_modules/lucide-react/src/icons/eye.ts","../../../../app/%28auth%29/login/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","import createLucideIcon from '../createLucideIcon';\n\nconst Eye = createLucideIcon('Eye', [\n  [\n    'path',\n    { d: 'M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z', key: 'rwhkz3' },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n]);\n\nexport default Eye;\n","\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Eye, EyeOff, Loader2 } from \"lucide-react\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { authAPI } from \"@/lib/api\";\nimport toast from \"react-hot-toast\";\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const { setAuth } = useAuth();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedRole, setSelectedRole] = useState<\"CLIENT\" | \"LAWYER\">(\"CLIENT\");\n\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    rememberMe: false,\n  });\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const response = await authAPI.login({\n        email: formData.email,\n        password: formData.password,\n      });\n\n      const { user, token } = response.data.data || response.data;\n\n      // Save auth state (useAuth implementation should store token safely)\n      setAuth(user, token);\n\n      // Redirect logic based on backend role\n      // Backend must be authoritative\n      if (user.role === \"ADMIN\") {\n        router.push(\"/admin\");\n        return;\n      }\n\n      if (user.role === \"LAWYER\") {\n        // If you maintain verification status, check it here\n        if (user.verification_status && user.verification_status !== \"APPROVED\") {\n          toast.success(\"Logged in. Your lawyer verification is pending.\");\n          router.push(\"/auth/verify-pending\");\n          return;\n        }\n        // If the user selected CLIENT by mistake, gently inform them\n        if (selectedRole === \"CLIENT\") {\n          toast(\"You logged in as a Lawyer. Redirecting to Lawyer Dashboard.\");\n        }\n        router.push(\"/lawyer/dashboard\"); // lawyer dashboard path (adjust if different)\n        return;\n      }\n\n      // Default: CLIENT\n      if (user.role === \"CLIENT\") {\n        if (selectedRole === \"LAWYER\") {\n          toast(\"You logged in as a Client. If you intended to login as a Lawyer, please register or use the lawyer login option.\");\n        }\n        router.push(\"/dashboard\");\n        return;\n      }\n\n      // Fallback\n      router.push(\"/\");\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || \"Login failed. Please check credentials.\");\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12\">\n      <div className=\"w-full max-w-md\">\n        <Card className=\"border-0 shadow-xl\">\n          <CardHeader className=\"space-y-1\">\n            <CardTitle className=\"text-2xl font-bold\">Welcome Back</CardTitle>\n            <CardDescription>Login to your account</CardDescription>\n            <div className=\"flex gap-2 mt-3\">\n              <button\n                onClick={() => setSelectedRole(\"CLIENT\")}\n                className={`flex-1 px-3 py-2 rounded ${selectedRole === \"CLIENT\" ? \"bg-primary-600 text-white\" : \"bg-white border\"}`}\n                aria-pressed={selectedRole === \"CLIENT\"}\n              >\n                Client\n              </button>\n              <button\n                onClick={() => setSelectedRole(\"LAWYER\")}\n                className={`flex-1 px-3 py-2 rounded ${selectedRole === \"LAWYER\" ? \"bg-primary-600 text-white\" : \"bg-white border\"}`}\n                aria-pressed={selectedRole === \"LAWYER\"}\n              >\n                Lawyer\n              </button>\n            </div>\n          </CardHeader>\n\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\">\n                  Email or Phone Number <span className=\"text-red-500\">*</span>\n                </Label>\n                <Input\n                  id=\"email\"\n                  type=\"text\"\n                  placeholder=\"you@example.com or 9876543210\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  required\n                  disabled={isLoading}\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\">Password <span className=\"text-red-500\">*</span></Label>\n                <div className=\"relative\">\n                  <Input\n                    id=\"password\"\n                    type={showPassword ? \"text\" : \"password\"}\n                    placeholder=\"••••••••\"\n                    value={formData.password}\n                    onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                    required\n                    disabled={isLoading}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700\"\n                    aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n                  >\n                    {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <label className=\"flex items-center gap-2 text-sm\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.rememberMe}\n                    onChange={(e) => setFormData({ ...formData, rememberMe: e.target.checked })}\n                    className=\"rounded border-gray-300\"\n                  />\n                  <span>Remember me</span>\n                </label>\n                <Link href=\"/forgot-password\" className=\"text-sm text-primary-600 hover:text-primary-700\">\n                  Forgot Password?\n                </Link>\n              </div>\n\n              <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n                {isLoading ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Logging in...\n                  </>\n                ) : (\n                  \"Login\"\n                )}\n              </Button>\n\n              <div className=\"text-center text-sm\">\n                <span className=\"text-gray-600\">New to Vakeel Kutami? </span>\n                <Link href=\"/signup\" className=\"text-primary-600 hover:text-primary-700 font-medium\">Create an account</Link>\n              </div>\n\n              <div className=\"text-center text-sm\">\n                <span className=\"text-gray-600\">Are you a lawyer? </span>\n                <Link href=\"/signup/lawyer\" className=\"text-primary-600 hover:text-primary-700 font-medium\">Register as Lawyer →</Link>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml","ReactDOM"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,kBAAkB,+BCFzCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,+BCFzCL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEG,QAAQ,kpBCA3B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,WAAA,OAAA,EAAiB,KAAO,CAAA,CAAA,AAClC,CAAA,AACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AACA,CAAA,AAAE,CAAA,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAgD,CAAA,CAAA,CAAA,CAAA,CAAK,AAAL,QAAc,CAAA,CACrE,CAAA,AACA,CAAC,QAAU,CAAA,CAAA,AAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAI,CAAA,CAAA,IAAA,CAAM,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACzD,CAAA,CAAA,iECND,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,SAAE,CAAO,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAErB,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAsB,UAEhE,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACvC,MAAO,GACP,SAAU,GACV,YAAY,CACd,GAEA,eAAe,EAAa,CAAkB,EAC5C,EAAE,cAAc,GAChB,GAAa,GAEb,GAAI,CACF,IAAM,EAAW,MAAM,EAAA,OAAO,CAAC,KAAK,CAAC,CACnC,MAAO,EAAS,KAAK,CACrB,SAAU,EAAS,QAAQ,AAC7B,GAEM,CAAE,MAAI,CAAE,OAAK,CAAE,CAAG,EAAS,IAAI,CAAC,IAAI,EAAI,EAAS,IAAI,CAO3D,GAJA,EAAQ,EAAM,GAII,UAAd,EAAK,IAAI,CAAc,YACzB,EAAO,IAAI,CAAC,UAId,GAAkB,WAAd,EAAK,IAAI,CAAe,CAE1B,GAAI,EAAK,mBAAmB,EAAiC,aAA7B,EAAK,mBAAmB,CAAiB,CACvE,EAAA,OAAK,CAAC,OAAO,CAAC,mDACd,EAAO,IAAI,CAAC,wBACZ,MACF,CAEqB,UAAU,CAA3B,GACF,CAAA,EAAA,EAAA,OAAA,AAAK,EAAC,+DAER,EAAO,IAAI,CAAC,qBACZ,CADkC,KAEpC,CAGA,GAAkB,WAAd,EAAK,IAAI,CAAe,CACL,UAAU,CAA3B,GACF,CAAA,EAAA,CAP8E,CAO9E,OAAA,AAAK,EAAC,oHAER,EAAO,IAAI,CAAC,cACZ,MACF,CAGA,EAAO,IAAI,CAAC,IACd,CAAE,MAAO,EAAY,CACnB,EAAA,OAAK,CAAC,KAAK,CAAC,EAAM,QAAQ,EAAE,MAAM,SAAW,0CAC/C,QAAU,CACR,GAAa,EACf,CACF,CAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,+BACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,sBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8BAAqB,iBAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,0BACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,UAC/B,UAAW,CAAC,yBAAyB,EAAmB,WAAjB,EAA4B,4BAA8B,kBAAA,CAAmB,CACpH,eAA+B,WAAjB,WACf,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,UAC/B,UAAW,CAAC,yBAAyB,EAAmB,WAAjB,EAA4B,4BAA8B,kBAAA,CAAmB,CACpH,eAA+B,WAAjB,WACf,iBAML,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,kBAAQ,yBACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEvD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACH,KAAK,OACL,YAAY,gCACZ,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,AAAC,GAClE,QAAQ,CAAA,CAAA,EACR,SAAU,OAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAW,YAAS,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAClE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,KAAM,EAAe,OAAS,WAC9B,YAAY,WACZ,MAAO,EAAS,QAAQ,CACxB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,SAAU,EAAE,MAAM,CAAC,KAAM,AAAD,GACpE,QAAQ,CAAA,CAAA,EACR,SAAU,IAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,EAAgB,CAAC,GAChC,UAAU,8EACV,aAAY,EAAe,gBAAkB,yBAE5C,EAAe,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAe,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,oBAKtE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,4CACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EAAS,UAAU,CAC5B,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,WAAY,EAAE,MAAM,CAAC,OAAO,AAAC,GACzE,UAAU,4BAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,mBAER,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,mBAAmB,UAAU,2DAAkD,wBAK5F,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,UAAU,SAAS,SAAU,WAChD,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,8BAA8B,mBAInD,UAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,2BAChC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,UAAU,UAAU,+DAAsD,yBAGvF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,uBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,iBAAiB,UAAU,+DAAsD,uCAQ5G","ignoreList":[0,1,2,3]}