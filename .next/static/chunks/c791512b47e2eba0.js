(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,e=>{"use strict";let a=(0,e.i(75254).default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],86536)},23426,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(22016),t=e.i(18566),i=e.i(67881),l=e.i(23750),d=e.i(10708),n=e.i(70065),c=e.i(86536),o=e.i(77705),m=e.i(29377),u=e.i(63327),h=e.i(54858),x=e.i(5766);function p(){let e=(0,t.useRouter)(),{setAuth:p}=(0,u.useAuth)(),[y,g]=(0,s.useState)(!1),[f,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)("CLIENT"),[b,v]=(0,s.useState)({email:"",password:"",rememberMe:!1});async function L(a){a.preventDefault(),j(!0);try{let a=await h.authAPI.login({email:b.email,password:b.password}),{user:s,token:r}=a.data.data||a.data;if(p(s,r),"ADMIN"===s.role)return void e.push("/admin");if("LAWYER"===s.role){if(s.verification_status&&"APPROVED"!==s.verification_status){x.default.success("Logged in. Your lawyer verification is pending."),e.push("/auth/verify-pending");return}"CLIENT"===w&&(0,x.default)("You logged in as a Lawyer. Redirecting to Lawyer Dashboard."),e.push("/lawyer/dashboard");return}if("CLIENT"===s.role){"LAWYER"===w&&(0,x.default)("You logged in as a Client. If you intended to login as a Lawyer, please register or use the lawyer login option."),e.push("/dashboard");return}e.push("/")}catch(e){x.default.error(e.response?.data?.message||"Login failed. Please check credentials.")}finally{j(!1)}}return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12",children:(0,a.jsx)("div",{className:"w-full max-w-md",children:(0,a.jsxs)(n.Card,{className:"border-0 shadow-xl",children:[(0,a.jsxs)(n.CardHeader,{className:"space-y-1",children:[(0,a.jsx)(n.CardTitle,{className:"text-2xl font-bold",children:"Welcome Back"}),(0,a.jsx)(n.CardDescription,{children:"Login to your account"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,a.jsx)("button",{onClick:()=>N("CLIENT"),className:`flex-1 px-3 py-2 rounded ${"CLIENT"===w?"bg-primary-600 text-white":"bg-white border"}`,"aria-pressed":"CLIENT"===w,children:"Client"}),(0,a.jsx)("button",{onClick:()=>N("LAWYER"),className:`flex-1 px-3 py-2 rounded ${"LAWYER"===w?"bg-primary-600 text-white":"bg-white border"}`,"aria-pressed":"LAWYER"===w,children:"Lawyer"})]})]}),(0,a.jsx)(n.CardContent,{children:(0,a.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(d.Label,{htmlFor:"email",children:["Email or Phone Number ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(l.Input,{id:"email",type:"text",placeholder:"you@example.com or 9876543210",value:b.email,onChange:e=>v({...b,email:e.target.value}),required:!0,disabled:f})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(d.Label,{htmlFor:"password",children:["Password ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.Input,{id:"password",type:y?"text":"password",placeholder:"••••••••",value:b.password,onChange:e=>v({...b,password:e.target.value}),required:!0,disabled:f}),(0,a.jsx)("button",{type:"button",onClick:()=>g(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":y?"Hide password":"Show password",children:y?(0,a.jsx)(o.EyeOff,{className:"w-5 h-5"}):(0,a.jsx)(c.Eye,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:b.rememberMe,onChange:e=>v({...b,rememberMe:e.target.checked}),className:"rounded border-gray-300"}),(0,a.jsx)("span",{children:"Remember me"})]}),(0,a.jsx)(r.default,{href:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:"Forgot Password?"})]}),(0,a.jsx)(i.Button,{type:"submit",className:"w-full",disabled:f,children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"}),(0,a.jsxs)("div",{className:"text-center text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"New to Vakeel Kutami? "}),(0,a.jsx)(r.default,{href:"/signup",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Create an account"})]}),(0,a.jsxs)("div",{className:"text-center text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Are you a lawyer? "}),(0,a.jsx)(r.default,{href:"/signup/lawyer",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Register as Lawyer →"})]})]})})]})})})}e.s(["default",()=>p])}]);